# cbindgen configuration for key-wallet-ffi
# This file configures how cbindgen generates the C header from Rust code

language = "C"
header = """/**
 * Key Wallet FFI - C Header File
 *
 * This header provides C-compatible function declarations for the key-wallet
 * Rust library FFI bindings.
 *
 * AUTO-GENERATED FILE - DO NOT EDIT
 * Generated using cbindgen
 */"""

include_guard = "KEY_WALLET_FFI_H"
autogen_warning = "/* Warning: This file is auto-generated by cbindgen. Do not modify manually. */"
include_version = true
cpp_compat = true
usize_is_size_t = true
no_includes = false
sys_includes = ["stdint.h", "stddef.h", "stdbool.h"]

# Style options
style = "type"
tab_width = 4
line_length = 100
documentation = true
documentation_style = "c"

[export]
# Include all items marked with #[no_mangle] and pub extern
include = []
exclude = []
prefix = ""
item_types = ["functions", "enums", "structs", "typedefs", "opaque", "constants"]

# Opaque types with Swift-compatible bodies (unsigned char _private[0] allows Swift to import)
[export.body]
"FFIPrivateKey" = "{ unsigned char _private[0]; }"
"FFIExtendedPrivateKey" = "{ unsigned char _private[0]; }"
"FFIPublicKey" = "{ unsigned char _private[0]; }"
"FFIExtendedPublicKey" = "{ unsigned char _private[0]; }"
"FFIWalletManager" = "{ unsigned char _private[0]; }"
"FFIWallet" = "{ unsigned char _private[0]; }"
"FFIAccount" = "{ unsigned char _private[0]; }"
"FFIBLSAccount" = "{ unsigned char _private[0]; }"
"FFIEdDSAAccount" = "{ unsigned char _private[0]; }"
"FFIManagedAccount" = "{ unsigned char _private[0]; }"
"FFIManagedPlatformAccount" = "{ unsigned char _private[0]; }"
"FFIAccountCollection" = "{ unsigned char _private[0]; }"
"FFIManagedAccountCollection" = "{ unsigned char _private[0]; }"
"FFIAddressPool" = "{ unsigned char _private[0]; }"

[export.rename]
# Rename types to match C conventions
"FFIErrorCode" = "FFIErrorCode"
"FFINetwork" = "FFINetwork"
"FFIDerivationPathType" = "FFIDerivationPathType"

[enum]
# Configure enum generation
rename_variants = "ScreamingSnakeCase"
add_sentinel = false
derive_helper_methods = false

[struct]
# Configure struct generation
rename_fields = "None"
derive_constructor = false
derive_eq = false
derive_neq = false
derive_lt = false
derive_lte = false
derive_gt = false
derive_gte = false

[fn]
# Configure function generation
rename_args = "None"
must_use = "MUST_USE_FUNC"
prefix = ""
postfix = ""

[parse]
# This prevents cbindgen from walking into dependencies (e.g., secp256k1) and
# "learning" enough to confidently define your struct bodies.
parse_deps = false
include = []
exclude = []
clean = false
extra_bindings = []

[parse.expand]
# Which crates to expand (parse dependencies)
crates = []
all_features = false
default_features = true
features = []
