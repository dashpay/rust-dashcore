[package]
name = "dash-fuzz"
edition = "2024"
version = { workspace = true}
authors = ["Generated by fuzz/generate-files.sh"]
publish = false

[lints.rust]
# Silence `cfg(fuzzing)` lint in harness test modules
unexpected_cfgs = { level = "warn", check-cfg = ["cfg(fuzzing)"] }

[package.metadata]
cargo-fuzz = true

[dependencies]
honggfuzz = { version = "0.5", default-features = false }
dashcore = { path = "../dash", features = [ "serde" ] }
key-wallet = { path = "../key-wallet" }

serde = { version = "1.0.219", features = [ "derive" ] }
serde_json = "1.0"
# Upgrade serde_cbor to avoid linker issues with recent toolchains
serde_cbor = "0.11"

[[bin]]
name = "dash_outpoint_string"
path = "fuzz_targets/dash/outpoint_string.rs"

[[bin]]
name = "dash_deserialize_amount"
path = "fuzz_targets/dash/deserialize_amount.rs"

[[bin]]
name = "dash_deserialize_transaction"
path = "fuzz_targets/dash/deserialize_transaction.rs"

[[bin]]
name = "dash_deser_net_msg"
path = "fuzz_targets/dash/deser_net_msg.rs"

[[bin]]
name = "dash_deserialize_address"
path = "fuzz_targets/dash/deserialize_address.rs"

[[bin]]
name = "dash_script_bytes_to_asm_fmt"
path = "fuzz_targets/dash/script_bytes_to_asm_fmt.rs"

[[bin]]
name = "dash_deserialize_prefilled_transaction"
path = "fuzz_targets/dash/deserialize_prefilled_transaction.rs"

[[bin]]
name = "dash_deserialize_witness"
path = "fuzz_targets/dash/deserialize_witness.rs"

[[bin]]
name = "dash_deserialize_psbt"
path = "fuzz_targets/dash/deserialize_psbt.rs"

[[bin]]
name = "dash_deserialize_block"
path = "fuzz_targets/dash/deserialize_block.rs"

[[bin]]
name = "dash_deserialize_script"
path = "fuzz_targets/dash/deserialize_script.rs"

[[bin]]
name = "hashes_json"
path = "fuzz_targets/hashes/json.rs"

[[bin]]
name = "hashes_cbor"
path = "fuzz_targets/hashes/cbor.rs"

[[bin]]
name = "hashes_sha256"
path = "fuzz_targets/hashes/sha256.rs"

[[bin]]
name = "hashes_ripemd160"
path = "fuzz_targets/hashes/ripemd160.rs"

[[bin]]
name = "hashes_sha512_256"
path = "fuzz_targets/hashes/sha512_256.rs"

[[bin]]
name = "hashes_sha512"
path = "fuzz_targets/hashes/sha512.rs"

[[bin]]
name = "hashes_sha1"
path = "fuzz_targets/hashes/sha1.rs"
